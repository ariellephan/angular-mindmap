{"version":3,"file":"platform-server.js","sources":["../../../packages/platform-server/esm5/src/domino_adapter.js","../../../packages/platform-server/esm5/src/platform_state.js","../../../packages/platform-server/esm5/src/http.js","../../../packages/platform-server/esm5/src/tokens.js","../../../packages/platform-server/esm5/src/location.js","../../../packages/platform-server/esm5/src/server_renderer.js","../../../packages/platform-server/esm5/src/styles_host.js","../../../packages/platform-server/esm5/src/server.js","../../../packages/platform-server/esm5/src/transfer_state.js","../../../packages/platform-server/esm5/src/utils.js","../../../packages/platform-server/esm5/src/private_export.js","../../../packages/platform-server/esm5/src/version.js","../../../packages/platform-server/esm5/src/platform-server.js","../../../packages/platform-server/esm5/public_api.js","../../../packages/platform-server/esm5/platform-server.js"],"sourcesContent":["/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nimport * as tslib_1 from \"tslib\";\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar /** @type {?} */ domino = require('domino');\nimport { ɵBrowserDomAdapter as BrowserDomAdapter, ɵsetRootDomAdapter as setRootDomAdapter } from \"@angular/platform-browser\";\n/**\n * @param {?} methodName\n * @return {?}\n */\nfunction _notImplemented(methodName) {\n    return new Error('This method is not implemented in DominoAdapter: ' + methodName);\n}\n/**\n * Parses a document string to a Document object.\n * @param {?} html\n * @param {?=} url\n * @return {?}\n */\nexport function parseDocument(html, url) {\n    if (url === void 0) { url = '/'; }\n    var /** @type {?} */ window = domino.createWindow(html, url);\n    var /** @type {?} */ doc = window.document;\n    return doc;\n}\n/**\n * Serializes a document to string.\n * @param {?} doc\n * @return {?}\n */\nexport function serializeDocument(doc) {\n    return (/** @type {?} */ (doc)).serialize();\n}\n/**\n * DOM Adapter for the server platform based on https://github.com/fgnass/domino.\n */\nvar /**\n * DOM Adapter for the server platform based on https://github.com/fgnass/domino.\n */\nDominoAdapter = (function (_super) {\n    tslib_1.__extends(DominoAdapter, _super);\n    function DominoAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @return {?}\n     */\n    DominoAdapter.makeCurrent = /**\n     * @return {?}\n     */\n    function () { setRootDomAdapter(new DominoAdapter()); };\n    /**\n     * @param {?} error\n     * @return {?}\n     */\n    DominoAdapter.prototype.logError = /**\n     * @param {?} error\n     * @return {?}\n     */\n    function (error) { console.error(error); };\n    /**\n     * @param {?} error\n     * @return {?}\n     */\n    DominoAdapter.prototype.log = /**\n     * @param {?} error\n     * @return {?}\n     */\n    function (error) {\n        // tslint:disable-next-line:no-console\n        console.log(error);\n    };\n    /**\n     * @param {?} error\n     * @return {?}\n     */\n    DominoAdapter.prototype.logGroup = /**\n     * @param {?} error\n     * @return {?}\n     */\n    function (error) { console.error(error); };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.logGroupEnd = /**\n     * @return {?}\n     */\n    function () { };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.supportsDOMEvents = /**\n     * @return {?}\n     */\n    function () { return false; };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.supportsNativeShadowDOM = /**\n     * @return {?}\n     */\n    function () { return false; };\n    /**\n     * @param {?} nodeA\n     * @param {?} nodeB\n     * @return {?}\n     */\n    DominoAdapter.prototype.contains = /**\n     * @param {?} nodeA\n     * @param {?} nodeB\n     * @return {?}\n     */\n    function (nodeA, nodeB) {\n        var /** @type {?} */ inner = nodeB;\n        while (inner) {\n            if (inner === nodeA)\n                return true;\n            inner = inner.parent;\n        }\n        return false;\n    };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.createHtmlDocument = /**\n     * @return {?}\n     */\n    function () {\n        return parseDocument('<html><head><title>fakeTitle</title></head><body></body></html>');\n    };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.getDefaultDocument = /**\n     * @return {?}\n     */\n    function () {\n        if (!DominoAdapter.defaultDoc) {\n            DominoAdapter.defaultDoc = domino.createDocument();\n        }\n        return DominoAdapter.defaultDoc;\n    };\n    /**\n     * @param {?} el\n     * @param {?=} doc\n     * @return {?}\n     */\n    DominoAdapter.prototype.createShadowRoot = /**\n     * @param {?} el\n     * @param {?=} doc\n     * @return {?}\n     */\n    function (el, doc) {\n        if (doc === void 0) { doc = document; }\n        el.shadowRoot = doc.createDocumentFragment();\n        el.shadowRoot.parent = el;\n        return el.shadowRoot;\n    };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    DominoAdapter.prototype.getShadowRoot = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { return el.shadowRoot; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    DominoAdapter.prototype.isTextNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { return node.nodeType === DominoAdapter.defaultDoc.TEXT_NODE; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    DominoAdapter.prototype.isCommentNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) {\n        return node.nodeType === DominoAdapter.defaultDoc.COMMENT_NODE;\n    };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    DominoAdapter.prototype.isElementNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) {\n        return node ? node.nodeType === DominoAdapter.defaultDoc.ELEMENT_NODE : false;\n    };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    DominoAdapter.prototype.hasShadowRoot = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { return node.shadowRoot != null; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    DominoAdapter.prototype.isShadowRoot = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { return this.getShadowRoot(node) == node; };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    DominoAdapter.prototype.getProperty = /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    function (el, name) {\n        if (name === 'href') {\n            // Domino tries tp resolve href-s which we do not want. Just return the\n            // atribute value.\n            return this.getAttribute(el, 'href');\n        }\n        else if (name === 'innerText') {\n            // Domino does not support innerText. Just map it to textContent.\n            return el.textContent;\n        }\n        return (/** @type {?} */ (el))[name];\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    DominoAdapter.prototype.setProperty = /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (el, name, value) {\n        if (name === 'href') {\n            // Eventhough the server renderer reflects any properties to attributes\n            // map 'href' to atribute just to handle when setProperty is directly called.\n            this.setAttribute(el, 'href', value);\n        }\n        else if (name === 'innerText') {\n            // Domino does not support innerText. Just map it to textContent.\n            el.textContent = value;\n        }\n        (/** @type {?} */ (el))[name] = value;\n    };\n    /**\n     * @param {?} doc\n     * @param {?} target\n     * @return {?}\n     */\n    DominoAdapter.prototype.getGlobalEventTarget = /**\n     * @param {?} doc\n     * @param {?} target\n     * @return {?}\n     */\n    function (doc, target) {\n        if (target === 'window') {\n            return doc.defaultView;\n        }\n        if (target === 'document') {\n            return doc;\n        }\n        if (target === 'body') {\n            return doc.body;\n        }\n        return null;\n    };\n    /**\n     * @param {?} doc\n     * @return {?}\n     */\n    DominoAdapter.prototype.getBaseHref = /**\n     * @param {?} doc\n     * @return {?}\n     */\n    function (doc) {\n        var /** @type {?} */ base = this.querySelector(doc.documentElement, 'base');\n        var /** @type {?} */ href = '';\n        if (base) {\n            href = this.getHref(base);\n        }\n        // TODO(alxhub): Need relative path logic from BrowserDomAdapter here?\n        return href;\n    };\n    /** @internal */\n    /**\n     * \\@internal\n     * @param {?} element\n     * @return {?}\n     */\n    DominoAdapter.prototype._readStyleAttribute = /**\n     * \\@internal\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) {\n        var /** @type {?} */ styleMap = {};\n        var /** @type {?} */ styleAttribute = element.getAttribute('style');\n        if (styleAttribute) {\n            var /** @type {?} */ styleList = styleAttribute.split(/;+/g);\n            for (var /** @type {?} */ i = 0; i < styleList.length; i++) {\n                if (styleList[i].length > 0) {\n                    var /** @type {?} */ style = /** @type {?} */ (styleList[i]);\n                    var /** @type {?} */ colon = style.indexOf(':');\n                    if (colon === -1) {\n                        throw new Error(\"Invalid CSS style: \" + style);\n                    }\n                    (/** @type {?} */ (styleMap))[style.substr(0, colon).trim()] = style.substr(colon + 1).trim();\n                }\n            }\n        }\n        return styleMap;\n    };\n    /** @internal */\n    /**\n     * \\@internal\n     * @param {?} element\n     * @param {?} styleMap\n     * @return {?}\n     */\n    DominoAdapter.prototype._writeStyleAttribute = /**\n     * \\@internal\n     * @param {?} element\n     * @param {?} styleMap\n     * @return {?}\n     */\n    function (element, styleMap) {\n        var /** @type {?} */ styleAttrValue = '';\n        for (var /** @type {?} */ key in styleMap) {\n            var /** @type {?} */ newValue = styleMap[key];\n            if (newValue) {\n                styleAttrValue += key + ':' + styleMap[key] + ';';\n            }\n        }\n        element.setAttribute('style', styleAttrValue);\n    };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?=} styleValue\n     * @return {?}\n     */\n    DominoAdapter.prototype.setStyle = /**\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?=} styleValue\n     * @return {?}\n     */\n    function (element, styleName, styleValue) {\n        var /** @type {?} */ styleMap = this._readStyleAttribute(element);\n        (/** @type {?} */ (styleMap))[styleName] = styleValue;\n        this._writeStyleAttribute(element, styleMap);\n    };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @return {?}\n     */\n    DominoAdapter.prototype.removeStyle = /**\n     * @param {?} element\n     * @param {?} styleName\n     * @return {?}\n     */\n    function (element, styleName) { this.setStyle(element, styleName, null); };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @return {?}\n     */\n    DominoAdapter.prototype.getStyle = /**\n     * @param {?} element\n     * @param {?} styleName\n     * @return {?}\n     */\n    function (element, styleName) {\n        var /** @type {?} */ styleMap = this._readStyleAttribute(element);\n        return styleMap.hasOwnProperty(styleName) ? (/** @type {?} */ (styleMap))[styleName] : '';\n    };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?=} styleValue\n     * @return {?}\n     */\n    DominoAdapter.prototype.hasStyle = /**\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?=} styleValue\n     * @return {?}\n     */\n    function (element, styleName, styleValue) {\n        var /** @type {?} */ value = this.getStyle(element, styleName) || '';\n        return styleValue ? value == styleValue : value.length > 0;\n    };\n    /**\n     * @param {?} el\n     * @param {?} evt\n     * @return {?}\n     */\n    DominoAdapter.prototype.dispatchEvent = /**\n     * @param {?} el\n     * @param {?} evt\n     * @return {?}\n     */\n    function (el, evt) {\n        el.dispatchEvent(evt);\n        // Dispatch the event to the window also.\n        var /** @type {?} */ doc = el.ownerDocument || el;\n        var /** @type {?} */ win = (/** @type {?} */ (doc)).defaultView;\n        if (win) {\n            win.dispatchEvent(evt);\n        }\n    };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.getHistory = /**\n     * @return {?}\n     */\n    function () { throw _notImplemented('getHistory'); };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.getLocation = /**\n     * @return {?}\n     */\n    function () { throw _notImplemented('getLocation'); };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.getUserAgent = /**\n     * @return {?}\n     */\n    function () { return 'Fake user agent'; };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.supportsWebAnimation = /**\n     * @return {?}\n     */\n    function () { return false; };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.performanceNow = /**\n     * @return {?}\n     */\n    function () { return Date.now(); };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.getAnimationPrefix = /**\n     * @return {?}\n     */\n    function () { return ''; };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.getTransitionEnd = /**\n     * @return {?}\n     */\n    function () { return 'transitionend'; };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.supportsAnimation = /**\n     * @return {?}\n     */\n    function () { return true; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    DominoAdapter.prototype.getDistributedNodes = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw _notImplemented('getDistributedNodes'); };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.supportsCookies = /**\n     * @return {?}\n     */\n    function () { return false; };\n    /**\n     * @param {?} name\n     * @return {?}\n     */\n    DominoAdapter.prototype.getCookie = /**\n     * @param {?} name\n     * @return {?}\n     */\n    function (name) { throw _notImplemented('getCookie'); };\n    /**\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    DominoAdapter.prototype.setCookie = /**\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (name, value) { throw _notImplemented('setCookie'); };\n    return DominoAdapter;\n}(BrowserDomAdapter));\n/**\n * DOM Adapter for the server platform based on https://github.com/fgnass/domino.\n */\nexport { DominoAdapter };\nfunction DominoAdapter_tsickle_Closure_declarations() {\n    /** @type {?} */\n    DominoAdapter.defaultDoc;\n}\n//# sourceMappingURL=domino_adapter.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { Inject, Injectable } from \"@angular/core\";\nimport { DOCUMENT } from \"@angular/platform-browser\";\nimport { serializeDocument } from \"./domino_adapter\";\n/**\n * Representation of the current platform state.\n *\n * \\@experimental\n */\nvar PlatformState = (function () {\n    function PlatformState(_doc) {\n        this._doc = _doc;\n    }\n    /**\n     * Renders the current state of the platform to string.\n     */\n    /**\n     * Renders the current state of the platform to string.\n     * @return {?}\n     */\n    PlatformState.prototype.renderToString = /**\n     * Renders the current state of the platform to string.\n     * @return {?}\n     */\n    function () { return serializeDocument(this._doc); };\n    /**\n     * Returns the current DOM state.\n     */\n    /**\n     * Returns the current DOM state.\n     * @return {?}\n     */\n    PlatformState.prototype.getDocument = /**\n     * Returns the current DOM state.\n     * @return {?}\n     */\n    function () { return this._doc; };\n    PlatformState.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    PlatformState.ctorParameters = function () { return [\n        { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] },] },\n    ]; };\n    return PlatformState;\n}());\nexport { PlatformState };\nfunction PlatformState_tsickle_Closure_declarations() {\n    /** @type {!Array<{type: !Function, args: (undefined|!Array<?>)}>} */\n    PlatformState.decorators;\n    /**\n     * @nocollapse\n     * @type {function(): !Array<(null|{type: ?, decorators: (undefined|!Array<{type: !Function, args: (undefined|!Array<?>)}>)})>}\n     */\n    PlatformState.ctorParameters;\n    /** @type {?} */\n    PlatformState.prototype._doc;\n}\n//# sourceMappingURL=platform_state.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nimport * as tslib_1 from \"tslib\";\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar /** @type {?} */ xhr2 = require('xhr2');\nimport { Injectable, Optional } from \"@angular/core\";\nimport { BrowserXhr, Http, ReadyState, RequestOptions, XHRBackend, XSRFStrategy } from \"@angular/http\";\nimport { HttpHandler, HTTP_INTERCEPTORS, HttpBackend, XhrFactory, ɵinterceptingHandler as interceptingHandler } from \"@angular/common/http\";\nimport { Observable } from \"rxjs/Observable\";\nvar /** @type {?} */ isAbsoluteUrl = /^[a-zA-Z\\-\\+.]+:\\/\\//;\n/**\n * @param {?} url\n * @return {?}\n */\nfunction validateRequestUrl(url) {\n    if (!isAbsoluteUrl.test(url)) {\n        throw new Error(\"URLs requested via Http on the server must be absolute. URL: \" + url);\n    }\n}\nvar ServerXhr = (function () {\n    function ServerXhr() {\n    }\n    /**\n     * @return {?}\n     */\n    ServerXhr.prototype.build = /**\n     * @return {?}\n     */\n    function () { return new xhr2.XMLHttpRequest(); };\n    ServerXhr.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    ServerXhr.ctorParameters = function () { return []; };\n    return ServerXhr;\n}());\nexport { ServerXhr };\nfunction ServerXhr_tsickle_Closure_declarations() {\n    /** @type {!Array<{type: !Function, args: (undefined|!Array<?>)}>} */\n    ServerXhr.decorators;\n    /**\n     * @nocollapse\n     * @type {function(): !Array<(null|{type: ?, decorators: (undefined|!Array<{type: !Function, args: (undefined|!Array<?>)}>)})>}\n     */\n    ServerXhr.ctorParameters;\n}\nvar ServerXsrfStrategy = (function () {\n    function ServerXsrfStrategy() {\n    }\n    /**\n     * @param {?} req\n     * @return {?}\n     */\n    ServerXsrfStrategy.prototype.configureRequest = /**\n     * @param {?} req\n     * @return {?}\n     */\n    function (req) { };\n    ServerXsrfStrategy.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    ServerXsrfStrategy.ctorParameters = function () { return []; };\n    return ServerXsrfStrategy;\n}());\nexport { ServerXsrfStrategy };\nfunction ServerXsrfStrategy_tsickle_Closure_declarations() {\n    /** @type {!Array<{type: !Function, args: (undefined|!Array<?>)}>} */\n    ServerXsrfStrategy.decorators;\n    /**\n     * @nocollapse\n     * @type {function(): !Array<(null|{type: ?, decorators: (undefined|!Array<{type: !Function, args: (undefined|!Array<?>)}>)})>}\n     */\n    ServerXsrfStrategy.ctorParameters;\n}\n/**\n * @abstract\n */\nvar /**\n * @abstract\n */\nZoneMacroTaskWrapper = (function () {\n    function ZoneMacroTaskWrapper() {\n    }\n    /**\n     * @param {?} request\n     * @return {?}\n     */\n    ZoneMacroTaskWrapper.prototype.wrap = /**\n     * @param {?} request\n     * @return {?}\n     */\n    function (request) {\n        var _this = this;\n        return new Observable(function (observer) {\n            var /** @type {?} */ task = /** @type {?} */ ((null));\n            var /** @type {?} */ scheduled = false;\n            var /** @type {?} */ sub = null;\n            var /** @type {?} */ savedResult = null;\n            var /** @type {?} */ savedError = null;\n            var /** @type {?} */ scheduleTask = function (_task) {\n                task = _task;\n                scheduled = true;\n                var /** @type {?} */ delegate = _this.delegate(request);\n                sub = delegate.subscribe(function (res) { return savedResult = res; }, function (err) {\n                    if (!scheduled) {\n                        throw new Error('An http observable was completed twice. This shouldn\\'t happen, please file a bug.');\n                    }\n                    savedError = err;\n                    scheduled = false;\n                    task.invoke();\n                }, function () {\n                    if (!scheduled) {\n                        throw new Error('An http observable was completed twice. This shouldn\\'t happen, please file a bug.');\n                    }\n                    scheduled = false;\n                    task.invoke();\n                });\n            };\n            var /** @type {?} */ cancelTask = function (_task) {\n                if (!scheduled) {\n                    return;\n                }\n                scheduled = false;\n                if (sub) {\n                    sub.unsubscribe();\n                    sub = null;\n                }\n            };\n            var /** @type {?} */ onComplete = function () {\n                if (savedError !== null) {\n                    observer.error(savedError);\n                }\n                else {\n                    observer.next(savedResult);\n                    observer.complete();\n                }\n            };\n            // MockBackend for Http is synchronous, which means that if scheduleTask is by\n            // scheduleMacroTask, the request will hit MockBackend and the response will be\n            // sent, causing task.invoke() to be called.\n            var /** @type {?} */ _task = Zone.current.scheduleMacroTask('ZoneMacroTaskWrapper.subscribe', onComplete, {}, function () { return null; }, cancelTask);\n            scheduleTask(_task);\n            return function () {\n                if (scheduled && task) {\n                    task.zone.cancelTask(task);\n                    scheduled = false;\n                }\n                if (sub) {\n                    sub.unsubscribe();\n                    sub = null;\n                }\n            };\n        });\n    };\n    return ZoneMacroTaskWrapper;\n}());\n/**\n * @abstract\n */\nexport { ZoneMacroTaskWrapper };\nfunction ZoneMacroTaskWrapper_tsickle_Closure_declarations() {\n    /**\n     * @abstract\n     * @param {?} request\n     * @return {?}\n     */\n    ZoneMacroTaskWrapper.prototype.delegate = function (request) { };\n}\nvar ZoneMacroTaskConnection = (function (_super) {\n    tslib_1.__extends(ZoneMacroTaskConnection, _super);\n    function ZoneMacroTaskConnection(request, backend) {\n        var _this = _super.call(this) || this;\n        _this.request = request;\n        _this.backend = backend;\n        validateRequestUrl(request.url);\n        _this.response = _this.wrap(request);\n        return _this;\n    }\n    /**\n     * @param {?} request\n     * @return {?}\n     */\n    ZoneMacroTaskConnection.prototype.delegate = /**\n     * @param {?} request\n     * @return {?}\n     */\n    function (request) {\n        this.lastConnection = this.backend.createConnection(request);\n        return /** @type {?} */ (this.lastConnection.response);\n    };\n    Object.defineProperty(ZoneMacroTaskConnection.prototype, \"readyState\", {\n        get: /**\n         * @return {?}\n         */\n        function () {\n            return !!this.lastConnection ? this.lastConnection.readyState : ReadyState.Unsent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ZoneMacroTaskConnection;\n}(ZoneMacroTaskWrapper));\nexport { ZoneMacroTaskConnection };\nfunction ZoneMacroTaskConnection_tsickle_Closure_declarations() {\n    /** @type {?} */\n    ZoneMacroTaskConnection.prototype.response;\n    /** @type {?} */\n    ZoneMacroTaskConnection.prototype.lastConnection;\n    /** @type {?} */\n    ZoneMacroTaskConnection.prototype.request;\n    /** @type {?} */\n    ZoneMacroTaskConnection.prototype.backend;\n}\nvar ZoneMacroTaskBackend = (function () {\n    function ZoneMacroTaskBackend(backend) {\n        this.backend = backend;\n    }\n    /**\n     * @param {?} request\n     * @return {?}\n     */\n    ZoneMacroTaskBackend.prototype.createConnection = /**\n     * @param {?} request\n     * @return {?}\n     */\n    function (request) {\n        return new ZoneMacroTaskConnection(request, this.backend);\n    };\n    return ZoneMacroTaskBackend;\n}());\nexport { ZoneMacroTaskBackend };\nfunction ZoneMacroTaskBackend_tsickle_Closure_declarations() {\n    /** @type {?} */\n    ZoneMacroTaskBackend.prototype.backend;\n}\nvar ZoneClientBackend = (function (_super) {\n    tslib_1.__extends(ZoneClientBackend, _super);\n    function ZoneClientBackend(backend) {\n        var _this = _super.call(this) || this;\n        _this.backend = backend;\n        return _this;\n    }\n    /**\n     * @param {?} request\n     * @return {?}\n     */\n    ZoneClientBackend.prototype.handle = /**\n     * @param {?} request\n     * @return {?}\n     */\n    function (request) { return this.wrap(request); };\n    /**\n     * @param {?} request\n     * @return {?}\n     */\n    ZoneClientBackend.prototype.delegate = /**\n     * @param {?} request\n     * @return {?}\n     */\n    function (request) {\n        return this.backend.handle(request);\n    };\n    return ZoneClientBackend;\n}(ZoneMacroTaskWrapper));\nexport { ZoneClientBackend };\nfunction ZoneClientBackend_tsickle_Closure_declarations() {\n    /** @type {?} */\n    ZoneClientBackend.prototype.backend;\n}\n/**\n * @param {?} xhrBackend\n * @param {?} options\n * @return {?}\n */\nexport function httpFactory(xhrBackend, options) {\n    var /** @type {?} */ macroBackend = new ZoneMacroTaskBackend(xhrBackend);\n    return new Http(macroBackend, options);\n}\n/**\n * @param {?} backend\n * @param {?} interceptors\n * @return {?}\n */\nexport function zoneWrappedInterceptingHandler(backend, interceptors) {\n    var /** @type {?} */ realBackend = interceptingHandler(backend, interceptors);\n    return new ZoneClientBackend(realBackend);\n}\nexport var /** @type {?} */ SERVER_HTTP_PROVIDERS = [\n    { provide: Http, useFactory: httpFactory, deps: [XHRBackend, RequestOptions] },\n    { provide: BrowserXhr, useClass: ServerXhr }, { provide: XSRFStrategy, useClass: ServerXsrfStrategy },\n    { provide: XhrFactory, useClass: ServerXhr }, {\n        provide: HttpHandler,\n        useFactory: zoneWrappedInterceptingHandler,\n        deps: [HttpBackend, [new Optional(), HTTP_INTERCEPTORS]]\n    }\n];\n//# sourceMappingURL=http.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { InjectionToken } from \"@angular/core\";\n/**\n * Config object passed to initialize the platform.\n *\n * \\@experimental\n * @record\n */\nexport function PlatformConfig() { }\nfunction PlatformConfig_tsickle_Closure_declarations() {\n    /** @type {?|undefined} */\n    PlatformConfig.prototype.document;\n    /** @type {?|undefined} */\n    PlatformConfig.prototype.url;\n}\n/**\n * The DI token for setting the initial config for the platform.\n *\n * \\@experimental\n */\nexport var /** @type {?} */ INITIAL_CONFIG = new InjectionToken('Server.INITIAL_CONFIG');\n/**\n * A function that will be executed when calling `renderModuleFactory` or `renderModule` just\n * before current platform state is rendered to string.\n *\n * \\@experimental\n */\nexport var /** @type {?} */ BEFORE_APP_SERIALIZED = new InjectionToken('Server.RENDER_MODULE_HOOK');\n//# sourceMappingURL=tokens.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nimport { Inject, Injectable, Optional } from \"@angular/core\";\nimport { DOCUMENT, ɵgetDOM as getDOM } from \"@angular/platform-browser\";\nimport { Subject } from \"rxjs/Subject\";\nimport * as url from \"url\";\nimport { INITIAL_CONFIG } from \"./tokens\";\n/**\n * @param {?} urlStr\n * @return {?}\n */\nfunction parseUrl(urlStr) {\n    var /** @type {?} */ parsedUrl = url.parse(urlStr);\n    return {\n        pathname: parsedUrl.pathname || '',\n        search: parsedUrl.search || '',\n        hash: parsedUrl.hash || '',\n    };\n}\n/**\n * Server-side implementation of URL state. Implements `pathname`, `search`, and `hash`\n * but not the state stack.\n */\nvar ServerPlatformLocation = (function () {\n    function ServerPlatformLocation(_doc, _config) {\n        this._doc = _doc;\n        this.pathname = '/';\n        this.search = '';\n        this.hash = '';\n        this._hashUpdate = new Subject();\n        var /** @type {?} */ config = /** @type {?} */ (_config);\n        if (!!config && !!config.url) {\n            var /** @type {?} */ parsedUrl = parseUrl(config.url);\n            this.pathname = parsedUrl.pathname;\n            this.search = parsedUrl.search;\n            this.hash = parsedUrl.hash;\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ServerPlatformLocation.prototype.getBaseHrefFromDOM = /**\n     * @return {?}\n     */\n    function () { return /** @type {?} */ ((getDOM().getBaseHref(this._doc))); };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    ServerPlatformLocation.prototype.onPopState = /**\n     * @param {?} fn\n     * @return {?}\n     */\n    function (fn) {\n        // No-op: a state stack is not implemented, so\n        // no events will ever come.\n    };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    ServerPlatformLocation.prototype.onHashChange = /**\n     * @param {?} fn\n     * @return {?}\n     */\n    function (fn) { this._hashUpdate.subscribe(fn); };\n    Object.defineProperty(ServerPlatformLocation.prototype, \"url\", {\n        get: /**\n         * @return {?}\n         */\n        function () { return \"\" + this.pathname + this.search + this.hash; },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} value\n     * @param {?} oldUrl\n     * @return {?}\n     */\n    ServerPlatformLocation.prototype.setHash = /**\n     * @param {?} value\n     * @param {?} oldUrl\n     * @return {?}\n     */\n    function (value, oldUrl) {\n        var _this = this;\n        if (this.hash === value) {\n            // Don't fire events if the hash has not changed.\n            return;\n        }\n        (/** @type {?} */ (this)).hash = value;\n        var /** @type {?} */ newUrl = this.url;\n        scheduleMicroTask(function () { return _this._hashUpdate.next(/** @type {?} */ ({ type: 'hashchange', oldUrl: oldUrl, newUrl: newUrl })); });\n    };\n    /**\n     * @param {?} state\n     * @param {?} title\n     * @param {?} newUrl\n     * @return {?}\n     */\n    ServerPlatformLocation.prototype.replaceState = /**\n     * @param {?} state\n     * @param {?} title\n     * @param {?} newUrl\n     * @return {?}\n     */\n    function (state, title, newUrl) {\n        var /** @type {?} */ oldUrl = this.url;\n        var /** @type {?} */ parsedUrl = parseUrl(newUrl);\n        (/** @type {?} */ (this)).pathname = parsedUrl.pathname;\n        (/** @type {?} */ (this)).search = parsedUrl.search;\n        this.setHash(parsedUrl.hash, oldUrl);\n    };\n    /**\n     * @param {?} state\n     * @param {?} title\n     * @param {?} newUrl\n     * @return {?}\n     */\n    ServerPlatformLocation.prototype.pushState = /**\n     * @param {?} state\n     * @param {?} title\n     * @param {?} newUrl\n     * @return {?}\n     */\n    function (state, title, newUrl) {\n        this.replaceState(state, title, newUrl);\n    };\n    /**\n     * @return {?}\n     */\n    ServerPlatformLocation.prototype.forward = /**\n     * @return {?}\n     */\n    function () { throw new Error('Not implemented'); };\n    /**\n     * @return {?}\n     */\n    ServerPlatformLocation.prototype.back = /**\n     * @return {?}\n     */\n    function () { throw new Error('Not implemented'); };\n    ServerPlatformLocation.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    ServerPlatformLocation.ctorParameters = function () { return [\n        { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] },] },\n        { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [INITIAL_CONFIG,] },] },\n    ]; };\n    return ServerPlatformLocation;\n}());\nexport { ServerPlatformLocation };\nfunction ServerPlatformLocation_tsickle_Closure_declarations() {\n    /** @type {!Array<{type: !Function, args: (undefined|!Array<?>)}>} */\n    ServerPlatformLocation.decorators;\n    /**\n     * @nocollapse\n     * @type {function(): !Array<(null|{type: ?, decorators: (undefined|!Array<{type: !Function, args: (undefined|!Array<?>)}>)})>}\n     */\n    ServerPlatformLocation.ctorParameters;\n    /** @type {?} */\n    ServerPlatformLocation.prototype.pathname;\n    /** @type {?} */\n    ServerPlatformLocation.prototype.search;\n    /** @type {?} */\n    ServerPlatformLocation.prototype.hash;\n    /** @type {?} */\n    ServerPlatformLocation.prototype._hashUpdate;\n    /** @type {?} */\n    ServerPlatformLocation.prototype._doc;\n}\n/**\n * @param {?} fn\n * @return {?}\n */\nexport function scheduleMicroTask(fn) {\n    Zone.current.scheduleMicroTask('scheduleMicrotask', fn);\n}\n//# sourceMappingURL=location.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nimport * as tslib_1 from \"tslib\";\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { DomElementSchemaRegistry } from \"@angular/compiler\";\nimport { Inject, Injectable, NgZone, ViewEncapsulation } from \"@angular/core\";\nimport { DOCUMENT, ɵNAMESPACE_URIS as NAMESPACE_URIS, ɵSharedStylesHost as SharedStylesHost, ɵflattenStyles as flattenStyles, ɵgetDOM as getDOM, ɵshimContentAttribute as shimContentAttribute, ɵshimHostAttribute as shimHostAttribute } from \"@angular/platform-browser\";\nvar /** @type {?} */ EMPTY_ARRAY = [];\nvar ServerRendererFactory2 = (function () {\n    function ServerRendererFactory2(ngZone, document, sharedStylesHost) {\n        this.ngZone = ngZone;\n        this.document = document;\n        this.sharedStylesHost = sharedStylesHost;\n        this.rendererByCompId = new Map();\n        this.schema = new DomElementSchemaRegistry();\n        this.defaultRenderer = new DefaultServerRenderer2(document, ngZone, this.schema);\n    }\n    /**\n     * @param {?} element\n     * @param {?} type\n     * @return {?}\n     */\n    ServerRendererFactory2.prototype.createRenderer = /**\n     * @param {?} element\n     * @param {?} type\n     * @return {?}\n     */\n    function (element, type) {\n        if (!element || !type) {\n            return this.defaultRenderer;\n        }\n        switch (type.encapsulation) {\n            case ViewEncapsulation.Native:\n            case ViewEncapsulation.Emulated: {\n                var /** @type {?} */ renderer = this.rendererByCompId.get(type.id);\n                if (!renderer) {\n                    renderer = new EmulatedEncapsulationServerRenderer2(this.document, this.ngZone, this.sharedStylesHost, this.schema, type);\n                    this.rendererByCompId.set(type.id, renderer);\n                }\n                (/** @type {?} */ (renderer)).applyToHost(element);\n                return renderer;\n            }\n            case ViewEncapsulation.Native:\n                throw new Error('Native encapsulation is not supported on the server!');\n            default: {\n                if (!this.rendererByCompId.has(type.id)) {\n                    var /** @type {?} */ styles = flattenStyles(type.id, type.styles, []);\n                    this.sharedStylesHost.addStyles(styles);\n                    this.rendererByCompId.set(type.id, this.defaultRenderer);\n                }\n                return this.defaultRenderer;\n            }\n        }\n    };\n    /**\n     * @return {?}\n     */\n    ServerRendererFactory2.prototype.begin = /**\n     * @return {?}\n     */\n    function () { };\n    /**\n     * @return {?}\n     */\n    ServerRendererFactory2.prototype.end = /**\n     * @return {?}\n     */\n    function () { };\n    ServerRendererFactory2.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    ServerRendererFactory2.ctorParameters = function () { return [\n        { type: NgZone, },\n        { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] },] },\n        { type: SharedStylesHost, },\n    ]; };\n    return ServerRendererFactory2;\n}());\nexport { ServerRendererFactory2 };\nfunction ServerRendererFactory2_tsickle_Closure_declarations() {\n    /** @type {!Array<{type: !Function, args: (undefined|!Array<?>)}>} */\n    ServerRendererFactory2.decorators;\n    /**\n     * @nocollapse\n     * @type {function(): !Array<(null|{type: ?, decorators: (undefined|!Array<{type: !Function, args: (undefined|!Array<?>)}>)})>}\n     */\n    ServerRendererFactory2.ctorParameters;\n    /** @type {?} */\n    ServerRendererFactory2.prototype.rendererByCompId;\n    /** @type {?} */\n    ServerRendererFactory2.prototype.defaultRenderer;\n    /** @type {?} */\n    ServerRendererFactory2.prototype.schema;\n    /** @type {?} */\n    ServerRendererFactory2.prototype.ngZone;\n    /** @type {?} */\n    ServerRendererFactory2.prototype.document;\n    /** @type {?} */\n    ServerRendererFactory2.prototype.sharedStylesHost;\n}\nvar DefaultServerRenderer2 = (function () {\n    function DefaultServerRenderer2(document, ngZone, schema) {\n        this.document = document;\n        this.ngZone = ngZone;\n        this.schema = schema;\n        this.data = Object.create(null);\n    }\n    /**\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.destroy = /**\n     * @return {?}\n     */\n    function () { };\n    /**\n     * @param {?} name\n     * @param {?=} namespace\n     * @param {?=} debugInfo\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.createElement = /**\n     * @param {?} name\n     * @param {?=} namespace\n     * @param {?=} debugInfo\n     * @return {?}\n     */\n    function (name, namespace, debugInfo) {\n        if (namespace) {\n            return getDOM().createElementNS(NAMESPACE_URIS[namespace], name);\n        }\n        return getDOM().createElement(name);\n    };\n    /**\n     * @param {?} value\n     * @param {?=} debugInfo\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.createComment = /**\n     * @param {?} value\n     * @param {?=} debugInfo\n     * @return {?}\n     */\n    function (value, debugInfo) { return getDOM().createComment(value); };\n    /**\n     * @param {?} value\n     * @param {?=} debugInfo\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.createText = /**\n     * @param {?} value\n     * @param {?=} debugInfo\n     * @return {?}\n     */\n    function (value, debugInfo) { return getDOM().createTextNode(value); };\n    /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.appendChild = /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @return {?}\n     */\n    function (parent, newChild) { getDOM().appendChild(parent, newChild); };\n    /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @param {?} refChild\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.insertBefore = /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @param {?} refChild\n     * @return {?}\n     */\n    function (parent, newChild, refChild) {\n        if (parent) {\n            getDOM().insertBefore(parent, refChild, newChild);\n        }\n    };\n    /**\n     * @param {?} parent\n     * @param {?} oldChild\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.removeChild = /**\n     * @param {?} parent\n     * @param {?} oldChild\n     * @return {?}\n     */\n    function (parent, oldChild) {\n        if (parent) {\n            getDOM().removeChild(parent, oldChild);\n        }\n    };\n    /**\n     * @param {?} selectorOrNode\n     * @param {?=} debugInfo\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.selectRootElement = /**\n     * @param {?} selectorOrNode\n     * @param {?=} debugInfo\n     * @return {?}\n     */\n    function (selectorOrNode, debugInfo) {\n        var /** @type {?} */ el;\n        if (typeof selectorOrNode === 'string') {\n            el = getDOM().querySelector(this.document, selectorOrNode);\n            if (!el) {\n                throw new Error(\"The selector \\\"\" + selectorOrNode + \"\\\" did not match any elements\");\n            }\n        }\n        else {\n            el = selectorOrNode;\n        }\n        getDOM().clearNodes(el);\n        return el;\n    };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.parentNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { return getDOM().parentElement(node); };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.nextSibling = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { return getDOM().nextSibling(node); };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @param {?=} namespace\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.setAttribute = /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @param {?=} namespace\n     * @return {?}\n     */\n    function (el, name, value, namespace) {\n        if (namespace) {\n            getDOM().setAttributeNS(el, NAMESPACE_URIS[namespace], namespace + ':' + name, value);\n        }\n        else {\n            getDOM().setAttribute(el, name, value);\n        }\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?=} namespace\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.removeAttribute = /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?=} namespace\n     * @return {?}\n     */\n    function (el, name, namespace) {\n        if (namespace) {\n            getDOM().removeAttributeNS(el, NAMESPACE_URIS[namespace], name);\n        }\n        else {\n            getDOM().removeAttribute(el, name);\n        }\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.addClass = /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    function (el, name) { getDOM().addClass(el, name); };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.removeClass = /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    function (el, name) { getDOM().removeClass(el, name); };\n    /**\n     * @param {?} el\n     * @param {?} style\n     * @param {?} value\n     * @param {?} flags\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.setStyle = /**\n     * @param {?} el\n     * @param {?} style\n     * @param {?} value\n     * @param {?} flags\n     * @return {?}\n     */\n    function (el, style, value, flags) {\n        getDOM().setStyle(el, style, value);\n    };\n    /**\n     * @param {?} el\n     * @param {?} style\n     * @param {?} flags\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.removeStyle = /**\n     * @param {?} el\n     * @param {?} style\n     * @param {?} flags\n     * @return {?}\n     */\n    function (el, style, flags) {\n        getDOM().removeStyle(el, style);\n    };\n    /**\n     * @param {?} tagName\n     * @param {?} propertyName\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype._isSafeToReflectProperty = /**\n     * @param {?} tagName\n     * @param {?} propertyName\n     * @return {?}\n     */\n    function (tagName, propertyName) {\n        return this.schema.securityContext(tagName, propertyName, true) ===\n            this.schema.securityContext(tagName, propertyName, false);\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.setProperty = /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (el, name, value) {\n        checkNoSyntheticProp(name, 'property');\n        getDOM().setProperty(el, name, value);\n        // Mirror property values for known HTML element properties in the attributes.\n        var /** @type {?} */ tagName = (/** @type {?} */ (el.tagName)).toLowerCase();\n        if (value != null && (typeof value === 'number' || typeof value == 'string') &&\n            this.schema.hasElement(tagName, EMPTY_ARRAY) &&\n            this.schema.hasProperty(tagName, name, EMPTY_ARRAY) &&\n            this._isSafeToReflectProperty(tagName, name)) {\n            this.setAttribute(el, name, value.toString());\n        }\n    };\n    /**\n     * @param {?} node\n     * @param {?} value\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.setValue = /**\n     * @param {?} node\n     * @param {?} value\n     * @return {?}\n     */\n    function (node, value) { getDOM().setText(node, value); };\n    /**\n     * @param {?} target\n     * @param {?} eventName\n     * @param {?} callback\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.listen = /**\n     * @param {?} target\n     * @param {?} eventName\n     * @param {?} callback\n     * @return {?}\n     */\n    function (target, eventName, callback) {\n        var _this = this;\n        // Note: We are not using the EventsPlugin here as this is not needed\n        // to run our tests.\n        checkNoSyntheticProp(eventName, 'listener');\n        var /** @type {?} */ el = typeof target === 'string' ? getDOM().getGlobalEventTarget(this.document, target) : target;\n        var /** @type {?} */ outsideHandler = function (event) { return _this.ngZone.runGuarded(function () { return callback(event); }); };\n        return this.ngZone.runOutsideAngular(function () { return /** @type {?} */ (getDOM().onAndCancel(el, eventName, outsideHandler)); });\n    };\n    return DefaultServerRenderer2;\n}());\nfunction DefaultServerRenderer2_tsickle_Closure_declarations() {\n    /** @type {?} */\n    DefaultServerRenderer2.prototype.data;\n    /** @type {?} */\n    DefaultServerRenderer2.prototype.destroyNode;\n    /** @type {?} */\n    DefaultServerRenderer2.prototype.document;\n    /** @type {?} */\n    DefaultServerRenderer2.prototype.ngZone;\n    /** @type {?} */\n    DefaultServerRenderer2.prototype.schema;\n}\nvar /** @type {?} */ AT_CHARCODE = '@'.charCodeAt(0);\n/**\n * @param {?} name\n * @param {?} nameKind\n * @return {?}\n */\nfunction checkNoSyntheticProp(name, nameKind) {\n    if (name.charCodeAt(0) === AT_CHARCODE) {\n        throw new Error(\"Found the synthetic \" + nameKind + \" \" + name + \". Please include either \\\"BrowserAnimationsModule\\\" or \\\"NoopAnimationsModule\\\" in your application.\");\n    }\n}\nvar EmulatedEncapsulationServerRenderer2 = (function (_super) {\n    tslib_1.__extends(EmulatedEncapsulationServerRenderer2, _super);\n    function EmulatedEncapsulationServerRenderer2(document, ngZone, sharedStylesHost, schema, component) {\n        var _this = _super.call(this, document, ngZone, schema) || this;\n        _this.component = component;\n        var /** @type {?} */ styles = flattenStyles(component.id, component.styles, []);\n        sharedStylesHost.addStyles(styles);\n        _this.contentAttr = shimContentAttribute(component.id);\n        _this.hostAttr = shimHostAttribute(component.id);\n        return _this;\n    }\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    EmulatedEncapsulationServerRenderer2.prototype.applyToHost = /**\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) { _super.prototype.setAttribute.call(this, element, this.hostAttr, ''); };\n    /**\n     * @param {?} parent\n     * @param {?} name\n     * @return {?}\n     */\n    EmulatedEncapsulationServerRenderer2.prototype.createElement = /**\n     * @param {?} parent\n     * @param {?} name\n     * @return {?}\n     */\n    function (parent, name) {\n        var /** @type {?} */ el = _super.prototype.createElement.call(this, parent, name);\n        _super.prototype.setAttribute.call(this, el, this.contentAttr, '');\n        return el;\n    };\n    return EmulatedEncapsulationServerRenderer2;\n}(DefaultServerRenderer2));\nfunction EmulatedEncapsulationServerRenderer2_tsickle_Closure_declarations() {\n    /** @type {?} */\n    EmulatedEncapsulationServerRenderer2.prototype.contentAttr;\n    /** @type {?} */\n    EmulatedEncapsulationServerRenderer2.prototype.hostAttr;\n    /** @type {?} */\n    EmulatedEncapsulationServerRenderer2.prototype.component;\n}\n//# sourceMappingURL=server_renderer.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nimport * as tslib_1 from \"tslib\";\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { Inject, Injectable, Optional } from \"@angular/core\";\nimport { DOCUMENT, ɵSharedStylesHost as SharedStylesHost, ɵTRANSITION_ID, ɵgetDOM as getDOM } from \"@angular/platform-browser\";\nvar ServerStylesHost = (function (_super) {\n    tslib_1.__extends(ServerStylesHost, _super);\n    function ServerStylesHost(doc, transitionId) {\n        var _this = _super.call(this) || this;\n        _this.doc = doc;\n        _this.transitionId = transitionId;\n        _this.head = null;\n        _this.head = getDOM().getElementsByTagName(doc, 'head')[0];\n        return _this;\n    }\n    /**\n     * @param {?} style\n     * @return {?}\n     */\n    ServerStylesHost.prototype._addStyle = /**\n     * @param {?} style\n     * @return {?}\n     */\n    function (style) {\n        var /** @type {?} */ adapter = getDOM();\n        var /** @type {?} */ el = adapter.createElement('style');\n        adapter.setText(el, style);\n        if (!!this.transitionId) {\n            adapter.setAttribute(el, 'ng-transition', this.transitionId);\n        }\n        adapter.appendChild(this.head, el);\n    };\n    /**\n     * @param {?} additions\n     * @return {?}\n     */\n    ServerStylesHost.prototype.onStylesAdded = /**\n     * @param {?} additions\n     * @return {?}\n     */\n    function (additions) {\n        var _this = this;\n        additions.forEach(function (style) { return _this._addStyle(style); });\n    };\n    ServerStylesHost.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    ServerStylesHost.ctorParameters = function () { return [\n        { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] },] },\n        { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [ɵTRANSITION_ID,] },] },\n    ]; };\n    return ServerStylesHost;\n}(SharedStylesHost));\nexport { ServerStylesHost };\nfunction ServerStylesHost_tsickle_Closure_declarations() {\n    /** @type {!Array<{type: !Function, args: (undefined|!Array<?>)}>} */\n    ServerStylesHost.decorators;\n    /**\n     * @nocollapse\n     * @type {function(): !Array<(null|{type: ?, decorators: (undefined|!Array<{type: !Function, args: (undefined|!Array<?>)}>)})>}\n     */\n    ServerStylesHost.ctorParameters;\n    /** @type {?} */\n    ServerStylesHost.prototype.head;\n    /** @type {?} */\n    ServerStylesHost.prototype.doc;\n    /** @type {?} */\n    ServerStylesHost.prototype.transitionId;\n}\n//# sourceMappingURL=styles_host.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { ɵAnimationEngine } from \"@angular/animations/browser\";\nimport { PlatformLocation, ɵPLATFORM_SERVER_ID as PLATFORM_SERVER_ID } from \"@angular/common\";\nimport { HttpClientModule } from \"@angular/common/http\";\nimport { Injector, NgModule, NgZone, Optional, PLATFORM_ID, PLATFORM_INITIALIZER, RendererFactory2, Testability, createPlatformFactory, platformCore, ɵALLOW_MULTIPLE_PLATFORMS as ALLOW_MULTIPLE_PLATFORMS } from \"@angular/core\";\nimport { HttpModule } from \"@angular/http\";\nimport { BrowserModule, DOCUMENT, ɵSharedStylesHost as SharedStylesHost, ɵgetDOM as getDOM } from \"@angular/platform-browser\";\nimport { ɵplatformCoreDynamic as platformCoreDynamic } from \"@angular/platform-browser-dynamic\";\nimport { NoopAnimationsModule, ɵAnimationRendererFactory } from \"@angular/platform-browser/animations\";\nimport { DominoAdapter, parseDocument } from \"./domino_adapter\";\nimport { SERVER_HTTP_PROVIDERS } from \"./http\";\nimport { ServerPlatformLocation } from \"./location\";\nimport { PlatformState } from \"./platform_state\";\nimport { ServerRendererFactory2 } from \"./server_renderer\";\nimport { ServerStylesHost } from \"./styles_host\";\nimport { INITIAL_CONFIG } from \"./tokens\";\n/**\n * @param {?} feature\n * @return {?}\n */\nfunction notSupported(feature) {\n    throw new Error(\"platform-server does not support '\" + feature + \"'.\");\n}\nexport var /** @type {?} */ INTERNAL_SERVER_PLATFORM_PROVIDERS = [\n    { provide: DOCUMENT, useFactory: _document, deps: [Injector] },\n    { provide: PLATFORM_ID, useValue: PLATFORM_SERVER_ID },\n    { provide: PLATFORM_INITIALIZER, useFactory: initDominoAdapter, multi: true, deps: [Injector] }, {\n        provide: PlatformLocation,\n        useClass: ServerPlatformLocation,\n        deps: [DOCUMENT, [Optional, INITIAL_CONFIG]]\n    },\n    { provide: PlatformState, deps: [DOCUMENT] },\n    // Add special provider that allows multiple instances of platformServer* to be created.\n    { provide: ALLOW_MULTIPLE_PLATFORMS, useValue: true }\n];\n/**\n * @param {?} injector\n * @return {?}\n */\nfunction initDominoAdapter(injector) {\n    return function () { DominoAdapter.makeCurrent(); };\n}\n/**\n * @param {?} renderer\n * @param {?} engine\n * @param {?} zone\n * @return {?}\n */\nexport function instantiateServerRendererFactory(renderer, engine, zone) {\n    return new ɵAnimationRendererFactory(renderer, engine, zone);\n}\nexport var /** @type {?} */ SERVER_RENDER_PROVIDERS = [\n    ServerRendererFactory2,\n    {\n        provide: RendererFactory2,\n        useFactory: instantiateServerRendererFactory,\n        deps: [ServerRendererFactory2, ɵAnimationEngine, NgZone]\n    },\n    ServerStylesHost,\n    { provide: SharedStylesHost, useExisting: ServerStylesHost },\n];\n/**\n * The ng module for the server.\n *\n * \\@experimental\n */\nvar ServerModule = (function () {\n    function ServerModule() {\n    }\n    ServerModule.decorators = [\n        { type: NgModule, args: [{\n                    exports: [BrowserModule],\n                    imports: [HttpModule, HttpClientModule, NoopAnimationsModule],\n                    providers: [\n                        SERVER_RENDER_PROVIDERS,\n                        SERVER_HTTP_PROVIDERS,\n                        { provide: Testability, useValue: null },\n                    ],\n                },] },\n    ];\n    /** @nocollapse */\n    ServerModule.ctorParameters = function () { return []; };\n    return ServerModule;\n}());\nexport { ServerModule };\nfunction ServerModule_tsickle_Closure_declarations() {\n    /** @type {!Array<{type: !Function, args: (undefined|!Array<?>)}>} */\n    ServerModule.decorators;\n    /**\n     * @nocollapse\n     * @type {function(): !Array<(null|{type: ?, decorators: (undefined|!Array<{type: !Function, args: (undefined|!Array<?>)}>)})>}\n     */\n    ServerModule.ctorParameters;\n}\n/**\n * @param {?} injector\n * @return {?}\n */\nfunction _document(injector) {\n    var /** @type {?} */ config = injector.get(INITIAL_CONFIG, null);\n    if (config && config.document) {\n        return parseDocument(config.document, config.url);\n    }\n    else {\n        return getDOM().createHtmlDocument();\n    }\n}\n/**\n * \\@experimental\n */\nexport var /** @type {?} */ platformServer = createPlatformFactory(platformCore, 'server', INTERNAL_SERVER_PLATFORM_PROVIDERS);\n/**\n * The server platform that supports the runtime compiler.\n *\n * \\@experimental\n */\nexport var /** @type {?} */ platformDynamicServer = createPlatformFactory(platformCoreDynamic, 'serverDynamic', INTERNAL_SERVER_PLATFORM_PROVIDERS);\n//# sourceMappingURL=server.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { APP_ID, NgModule } from \"@angular/core\";\nimport { DOCUMENT, TransferState, ɵescapeHtml as escapeHtml } from \"@angular/platform-browser\";\nimport { BEFORE_APP_SERIALIZED } from \"./tokens\";\n/**\n * @param {?} doc\n * @param {?} appId\n * @param {?} transferStore\n * @return {?}\n */\nexport function serializeTransferStateFactory(doc, appId, transferStore) {\n    return function () {\n        var /** @type {?} */ script = doc.createElement('script');\n        script.id = appId + '-state';\n        script.setAttribute('type', 'application/json');\n        script.textContent = escapeHtml(transferStore.toJson());\n        doc.body.appendChild(script);\n    };\n}\n/**\n * NgModule to install on the server side while using the `TransferState` to transfer state from\n * server to client.\n *\n * \\@experimental\n */\nvar ServerTransferStateModule = (function () {\n    function ServerTransferStateModule() {\n    }\n    ServerTransferStateModule.decorators = [\n        { type: NgModule, args: [{\n                    providers: [\n                        TransferState, {\n                            provide: BEFORE_APP_SERIALIZED,\n                            useFactory: serializeTransferStateFactory,\n                            deps: [DOCUMENT, APP_ID, TransferState],\n                            multi: true,\n                        }\n                    ]\n                },] },\n    ];\n    /** @nocollapse */\n    ServerTransferStateModule.ctorParameters = function () { return []; };\n    return ServerTransferStateModule;\n}());\nexport { ServerTransferStateModule };\nfunction ServerTransferStateModule_tsickle_Closure_declarations() {\n    /** @type {!Array<{type: !Function, args: (undefined|!Array<?>)}>} */\n    ServerTransferStateModule.decorators;\n    /**\n     * @nocollapse\n     * @type {function(): !Array<(null|{type: ?, decorators: (undefined|!Array<{type: !Function, args: (undefined|!Array<?>)}>)})>}\n     */\n    ServerTransferStateModule.ctorParameters;\n}\n//# sourceMappingURL=transfer_state.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { ApplicationRef } from \"@angular/core\";\nimport { ɵTRANSITION_ID } from \"@angular/platform-browser\";\nimport { filter } from \"rxjs/operator/filter\";\nimport { first } from \"rxjs/operator/first\";\nimport { toPromise } from \"rxjs/operator/toPromise\";\nimport { PlatformState } from \"./platform_state\";\nimport { platformDynamicServer, platformServer } from \"./server\";\nimport { BEFORE_APP_SERIALIZED, INITIAL_CONFIG } from \"./tokens\";\n/**\n * @record\n */\nfunction PlatformOptions() { }\nfunction PlatformOptions_tsickle_Closure_declarations() {\n    /** @type {?|undefined} */\n    PlatformOptions.prototype.document;\n    /** @type {?|undefined} */\n    PlatformOptions.prototype.url;\n    /** @type {?|undefined} */\n    PlatformOptions.prototype.extraProviders;\n}\n/**\n * @param {?} platformFactory\n * @param {?} options\n * @return {?}\n */\nfunction _getPlatform(platformFactory, options) {\n    var /** @type {?} */ extraProviders = options.extraProviders ? options.extraProviders : [];\n    return platformFactory([\n        { provide: INITIAL_CONFIG, useValue: { document: options.document, url: options.url } },\n        extraProviders\n    ]);\n}\n/**\n * @template T\n * @param {?} platform\n * @param {?} moduleRefPromise\n * @return {?}\n */\nfunction _render(platform, moduleRefPromise) {\n    return moduleRefPromise.then(function (moduleRef) {\n        var /** @type {?} */ transitionId = moduleRef.injector.get(ɵTRANSITION_ID, null);\n        if (!transitionId) {\n            throw new Error(\"renderModule[Factory]() requires the use of BrowserModule.withServerTransition() to ensure\\nthe server-rendered app can be properly bootstrapped into a client app.\");\n        }\n        var /** @type {?} */ applicationRef = moduleRef.injector.get(ApplicationRef);\n        return toPromise\n            .call(first.call(filter.call(applicationRef.isStable, function (isStable) { return isStable; })))\n            .then(function () {\n            var /** @type {?} */ platformState = platform.injector.get(PlatformState);\n            // Run any BEFORE_APP_SERIALIZED callbacks just before rendering to string.\n            var /** @type {?} */ callbacks = moduleRef.injector.get(BEFORE_APP_SERIALIZED, null);\n            if (callbacks) {\n                for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {\n                    var callback = callbacks_1[_i];\n                    try {\n                        callback();\n                    }\n                    catch (/** @type {?} */ e) {\n                        // Ignore exceptions.\n                        console.warn('Ignoring BEFORE_APP_SERIALIZED Exception: ', e);\n                    }\n                }\n            }\n            var /** @type {?} */ output = platformState.renderToString();\n            platform.destroy();\n            return output;\n        });\n    });\n}\n/**\n * Renders a Module to string.\n *\n * `document` is the full document HTML of the page to render, as a string.\n * `url` is the URL for the current render request.\n * `extraProviders` are the platform level providers for the current render request.\n *\n * Do not use this in a production server environment. Use pre-compiled {\\@link NgModuleFactory} with\n * {\\@link renderModuleFactory} instead.\n *\n * \\@experimental\n * @template T\n * @param {?} module\n * @param {?} options\n * @return {?}\n */\nexport function renderModule(module, options) {\n    var /** @type {?} */ platform = _getPlatform(platformDynamicServer, options);\n    return _render(platform, platform.bootstrapModule(module));\n}\n/**\n * Renders a {\\@link NgModuleFactory} to string.\n *\n * `document` is the full document HTML of the page to render, as a string.\n * `url` is the URL for the current render request.\n * `extraProviders` are the platform level providers for the current render request.\n *\n * \\@experimental\n * @template T\n * @param {?} moduleFactory\n * @param {?} options\n * @return {?}\n */\nexport function renderModuleFactory(moduleFactory, options) {\n    var /** @type {?} */ platform = _getPlatform(platformServer, options);\n    return _render(platform, platform.bootstrapModuleFactory(moduleFactory));\n}\n//# sourceMappingURL=utils.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nexport { INTERNAL_SERVER_PLATFORM_PROVIDERS as ɵINTERNAL_SERVER_PLATFORM_PROVIDERS, SERVER_RENDER_PROVIDERS as ɵSERVER_RENDER_PROVIDERS } from \"./server\";\nexport { ServerRendererFactory2 as ɵServerRendererFactory2 } from \"./server_renderer\";\n//# sourceMappingURL=private_export.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @module\n * @description\n * Entry point for all public APIs of the common package.\n */\nimport { Version } from \"@angular/core\";\n/**\n * \\@stable\n */\nexport var /** @type {?} */ VERSION = new Version('5.0.5');\n//# sourceMappingURL=version.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nexport { PlatformState } from \"./platform_state\";\nexport { ServerModule, platformDynamicServer, platformServer } from \"./server\";\nexport { BEFORE_APP_SERIALIZED, INITIAL_CONFIG } from \"./tokens\";\nexport { ServerTransferStateModule } from \"./transfer_state\";\nexport { renderModule, renderModuleFactory } from \"./utils\";\nexport { ɵINTERNAL_SERVER_PLATFORM_PROVIDERS, ɵSERVER_RENDER_PROVIDERS, ɵServerRendererFactory2 } from \"./private_export\";\nexport { VERSION } from \"./version\";\n//# sourceMappingURL=platform-server.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @module\n * @description\n * Entry point for all public APIs of this package.\n */\nexport { PlatformState, ServerModule, platformDynamicServer, platformServer, BEFORE_APP_SERIALIZED, INITIAL_CONFIG, ServerTransferStateModule, renderModule, renderModuleFactory, VERSION, ɵINTERNAL_SERVER_PLATFORM_PROVIDERS, ɵSERVER_RENDER_PROVIDERS, ɵServerRendererFactory2 } from \"./src/platform-server\";\n// This file only reexports content of the `src` folder. Keep it that way.\n//# sourceMappingURL=public_api.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * Generated bundle index. Do not edit.\n */\nexport { PlatformState, ServerModule, platformDynamicServer, platformServer, BEFORE_APP_SERIALIZED, INITIAL_CONFIG, ServerTransferStateModule, renderModule, renderModuleFactory, VERSION, ɵINTERNAL_SERVER_PLATFORM_PROVIDERS, ɵSERVER_RENDER_PROVIDERS, ɵServerRendererFactory2 } from \"./public_api\";\nexport { SERVER_HTTP_PROVIDERS as ɵh, ServerXhr as ɵd, ServerXsrfStrategy as ɵe, httpFactory as ɵf, zoneWrappedInterceptingHandler as ɵg } from \"./src/http\";\nexport { instantiateServerRendererFactory as ɵa } from \"./src/server\";\nexport { ServerStylesHost as ɵc } from \"./src/styles_host\";\nexport { serializeTransferStateFactory as ɵb } from \"./src/transfer_state\";\n//# sourceMappingURL=platform-server.js.map"],"names":["url","tslib_1.__extends","setRootDomAdapter","BrowserDomAdapter","interceptingHandler","url.parse","getDOM","flattenStyles","SharedStylesHost","NAMESPACE_URIS","shimContentAttribute","shimHostAttribute","PLATFORM_SERVER_ID","ALLOW_MULTIPLE_PLATFORMS","platformCoreDynamic","escapeHtml"],"mappings":"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"}